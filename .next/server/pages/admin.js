(()=>{var e={};e.id=964,e.ids=[964,888,660],e.modules={323:(e,t)=>{"use strict";Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},875:(e,t,r)=>{"use strict";r.r(t),r.d(t,{config:()=>h,default:()=>S,getServerSideProps:()=>b,getStaticPaths:()=>f,getStaticProps:()=>m,reportWebVitals:()=>v,routeModule:()=>E,unstable_getServerProps:()=>_,unstable_getServerSideProps:()=>A,unstable_getStaticParams:()=>I,unstable_getStaticPaths:()=>x,unstable_getStaticProps:()=>j});var a={};r.r(a),r.d(a,{default:()=>g,getServerSideProps:()=>P});var s=r(93),i=r(244),n=r(323),u=r(899),o=r.n(u),l=r(414),c=r(997),p=r(689),d=r(144);function g(){let[e,t]=(0,p.useState)(""),[r,a]=(0,p.useState)(""),[s,i]=(0,p.useState)(""),[n,u]=p.useState<File|!1,o=async t=>{if(t.preventDefault(),!n)return alert("Selecciona una imagen");let a=`${Date.now()}_${n.name}`,{data:i,error:u}=await d.Z.storage.from("imagenes-productos").upload(a,n);if(u)return console.error(u),alert("Error subiendo imagen");let{data:o}=d.Z.storage.from("imagenes-productos").getPublicUrl(a),{error:l}=await d.Z.from("productos").insert([{nombre:e,precio:r,codigoAfiliado:s,imagenUrl:o.publicUrl}]);l?(console.error(l),alert("Error guardando producto")):alert("Producto guardado correctamente")};return(0,c.jsxs)("form",{onSubmit:o,className:"flex flex-col gap-4",children:[c.jsx("input",{value:e,onChange:e=>t(e.target.value),placeholder:"Nombre",required:!0}),c.jsx("input",{value:r,onChange:e=>a(e.target.value),placeholder:"Precio",required:!0}),c.jsx("input",{value:s,onChange:e=>i(e.target.value),placeholder:"Enlace afiliado",required:!0}),c.jsx("input",{type:"file",accept:"image/*",onChange:e=>u(e.target.files?.[0]||null),required:!0}),c.jsx("button",{type:"submit",children:"Subir producto"})]})}async function P(){return{props:{}}}let S=(0,n.l)(a,"default"),m=(0,n.l)(a,"getStaticProps"),f=(0,n.l)(a,"getStaticPaths"),b=(0,n.l)(a,"getServerSideProps"),h=(0,n.l)(a,"config"),v=(0,n.l)(a,"reportWebVitals"),j=(0,n.l)(a,"unstable_getStaticProps"),x=(0,n.l)(a,"unstable_getStaticPaths"),I=(0,n.l)(a,"unstable_getStaticParams"),_=(0,n.l)(a,"unstable_getServerProps"),A=(0,n.l)(a,"unstable_getServerSideProps"),E=new s.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/admin",pathname:"/admin",bundlePath:"",filename:""},components:{App:l.default,Document:o()},userland:a})},144:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,require("@supabase/supabase-js").createClient)("https://qjouccckjtluhssiysji.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFqb3VjY2NranRsdWhzc2l5c2ppIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY4ODg0MDcsImV4cCI6MjA2MjQ2NDQwN30.dSwRo4jGDxKole8L_O-CSzvAW4CJDjMGpb-61Vs3x-I")},414:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(997);function s({Component:e,pageProps:t}){return a.jsx(e,{...t})}r(764)},764:()=>{},244:(e,t)=>{"use strict";var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))},785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},689:e=>{"use strict";e.exports=require("react")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},315:e=>{"use strict";e.exports=require("path")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[899],()=>r(875));module.exports=a})();