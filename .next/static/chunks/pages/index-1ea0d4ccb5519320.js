(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(4235)}])},6259:function(e,t,s){"use strict";let a=(0,s(8967).eI)("https://qjouccckjtluhssiysji.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFqb3VjY2NranRsdWhzc2l5c2ppIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY4ODg0MDcsImV4cCI6MjA2MjQ2NDQwN30.dSwRo4jGDxKole8L_O-CSzvAW4CJDjMGpb-61Vs3x-I");t.Z=a},4235:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var a=s(5893),l=s(7294);let r=l.forwardRef(function(e,t){let{title:s,titleId:a,...r}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},r),s?l.createElement("title",{id:a},s):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}),o=l.forwardRef(function(e,t){let{title:s,titleId:a,...r}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},r),s?l.createElement("title",{id:a},s):null,l.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))});s(6259);let n=e=>{let{onLogin:t,onSwitchToRegister:s}=e,[r,o]=(0,l.useState)(""),[n,i]=(0,l.useState)(""),[c,d]=(0,l.useState)("");return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-8 w-96",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-center text-blue-900 mb-6",children:"Iniciar Sesi\xf3n en Andr\xf3meda"}),c&&(0,a.jsx)("p",{className:"text-red-500 text-center mb-4",children:c}),(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!r||!n){d("Por favor ingresa email y contrase\xf1a");return}let s=JSON.parse(localStorage.getItem("users")||"[]").find(e=>e.email===r&&e.password===n);s?(s.searchHistory||(s.searchHistory=[]),s.favorites||(s.favorites=[]),localStorage.setItem("currentUser",JSON.stringify(s)),t(s)):d("Email o contrase\xf1a incorrectos")},children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Correo Electr\xf3nico"}),(0,a.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"email",type:"email",placeholder:"tu@email.com",value:r,onChange:e=>o(e.target.value)})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"Contrase\xf1a"}),(0,a.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"password",type:"password",placeholder:"********",value:n,onChange:e=>i(e.target.value)})]}),(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsx)("button",{className:"bg-gradient-to-r from-blue-600 to-purple-700 hover:from-blue-700 hover:to-purple-800 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full",type:"submit",children:"Iniciar Sesi\xf3n"})}),(0,a.jsx)("div",{className:"text-center mt-4",children:(0,a.jsxs)("p",{className:"text-sm",children:["\xbfNo tienes cuenta?"," ",(0,a.jsx)("button",{type:"button",onClick:s,className:"text-blue-700 hover:text-blue-900",children:"Reg\xedstrate aqu\xed"})]})})]})]})})},i=e=>{let{onRegister:t,onSwitchToLogin:s}=e,[r,o]=(0,l.useState)(""),[n,i]=(0,l.useState)(""),[c,d]=(0,l.useState)(""),[m,u]=(0,l.useState)(""),[x,h]=(0,l.useState)("");return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-8 w-96",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-center text-blue-900 mb-6",children:"Crear Cuenta en Andr\xf3meda"}),x&&(0,a.jsx)("p",{className:"text-red-500 text-center mb-4",children:x}),(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!r||!n||!c){h("Todos los campos son obligatorios");return}if(c!==m){h("Las contrase\xf1as no coinciden");return}let s=JSON.parse(localStorage.getItem("users")||"[]");if(s.find(e=>e.email===n)){h("Este correo ya est\xe1 registrado");return}let a={id:Date.now(),name:r,email:n,password:c,favorites:[],searchHistory:[]};s.push(a),localStorage.setItem("users",JSON.stringify(s)),localStorage.setItem("currentUser",JSON.stringify(a)),t(a)},children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name",children:"Nombre"}),(0,a.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"name",type:"text",placeholder:"Tu nombre",value:r,onChange:e=>o(e.target.value)})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Correo Electr\xf3nico"}),(0,a.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"email",type:"email",placeholder:"tu@email.com",value:n,onChange:e=>i(e.target.value)})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"Contrase\xf1a"}),(0,a.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"password",type:"password",placeholder:"********",value:c,onChange:e=>d(e.target.value)})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"confirm-password",children:"Confirmar Contrase\xf1a"}),(0,a.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"confirm-password",type:"password",placeholder:"********",value:m,onChange:e=>u(e.target.value)})]}),(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsx)("button",{className:"bg-gradient-to-r from-blue-600 to-purple-700 hover:from-blue-700 hover:to-purple-800 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full",type:"submit",children:"Registrarse"})}),(0,a.jsx)("div",{className:"text-center mt-4",children:(0,a.jsxs)("p",{className:"text-sm",children:["\xbfYa tienes cuenta?"," ",(0,a.jsx)("button",{type:"button",onClick:s,className:"text-blue-700 hover:text-blue-900",children:"Inicia sesi\xf3n"})]})})]})]})})},c=e=>{let{user:t,onLogout:s,onClose:l}=e;return(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-64 bg-white text-black rounded shadow-md z-20 p-4",children:[(0,a.jsxs)("div",{className:"text-center mb-4",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-700 rounded-full mx-auto flex items-center justify-center mb-2",children:(0,a.jsx)("span",{className:"text-white text-2xl font-bold",children:t.name.charAt(0).toUpperCase()})}),(0,a.jsx)("h3",{className:"font-bold text-lg",children:t.name}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:t.email})]}),(0,a.jsx)("hr",{className:"my-2"}),(0,a.jsx)("button",{onClick:s,className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-red-600 font-medium",children:"Cerrar Sesi\xf3n"}),(0,a.jsx)("button",{onClick:l,className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-gray-700",children:"Cerrar"})]})},d=e=>{let{producto:t,esFavorito:s,toggleFavorito:l}=e;return(0,a.jsxs)("div",{className:"bg-white bg-opacity-95 rounded-2xl shadow-lg p-4 flex flex-col items-center relative",children:[(0,a.jsx)("button",{onClick:()=>l(t.id),className:"absolute top-2 right-2 z-10",children:s?(0,a.jsx)(o,{className:"h-6 w-6 text-red-500"}):(0,a.jsx)(r,{className:"h-6 w-6 text-gray-400"})}),(0,a.jsx)("img",{src:t.imagen,alt:t.nombre,className:"w-36 h-36 object-contain mb-4"}),(0,a.jsx)("h2",{className:"text-md font-extrabold text-center text-blue-900 mb-2 leading-tight min-h-14",children:t.nombre}),(0,a.jsx)("p",{className:"text-lg font-semibold text-gray-900 mb-4",children:t.precio}),(0,a.jsx)("a",{href:t.enlace,target:"_blank",rel:"noopener noreferrer",className:"mt-auto w-full bg-gradient-to-r from-blue-600 to-purple-700 hover:from-blue-700 hover:to-purple-800 text-white font-bold uppercase text-sm px-6 py-2 rounded-full shadow-md hover:shadow-lg transition-all duration-300 text-center",children:"Ver producto"})]})};function m(){let e,t;let[s,r]=(0,l.useState)(""),[o,m]=(0,l.useState)(""),[u,x]=(0,l.useState)(!1),[h,b]=(0,l.useState)(""),[p,g]=(0,l.useState)(!1),[f,w]=(0,l.useState)([]),[j,N]=(0,l.useState)(12),[y,v]=(0,l.useState)(!1),[S,C]=(0,l.useState)(!1),[k,I]=(0,l.useState)(null),[E,O]=(0,l.useState)(!1),[J,L]=(0,l.useState)(!1),[A,H]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=localStorage.getItem("currentUser");e&&I(JSON.parse(e))},[]),Array.isArray(f)?f.map(e=>(0,a.jsxs)("div",{className:"border p-2 m-2 bg-white rounded",children:[(0,a.jsx)("h3",{className:"text-lg font-bold",children:e.nombre}),(0,a.jsxs)("p",{children:["Precio: $",e.precio]}),(0,a.jsx)("a",{href:e.enlace,target:"_blank",rel:"noopener noreferrer",children:"Ver producto"})]},e.id)):(0,a.jsx)("p",{children:"No hay productos"});let _=e=>{if(r(e),k&&""!==e.trim()){let t={...k};t.searchHistory=[e,...t.searchHistory.filter(t=>t!==e)],t.searchHistory.length>10&&(t.searchHistory=t.searchHistory.slice(0,10)),I(t);let s=JSON.parse(localStorage.getItem("users")||"[]"),a=s.findIndex(e=>e.id===k.id);-1!==a&&(s[a]=t,localStorage.setItem("users",JSON.stringify(s))),localStorage.setItem("currentUser",JSON.stringify(t))}},F=e=>{if(!k){O(!0);return}let t={...k};t.favorites.includes(e)?t.favorites=t.favorites.filter(t=>t!==e):t.favorites.push(e),I(t);let s=JSON.parse(localStorage.getItem("users")||"[]"),a=s.findIndex(e=>e.id===k.id);-1!==a&&(s[a]=t,localStorage.setItem("users",JSON.stringify(s))),localStorage.setItem("currentUser",JSON.stringify(t))},z=e=>k&&k.favorites&&k.favorites.includes(e),T=(e=f,s&&(e=e.filter(e=>e.nombre.toLowerCase().includes(s.toLowerCase()))),o&&(e=e.filter(e=>e.tienda===o)),h&&(e=e.filter(e=>e.categoria===h)),S&&k&&k.favorites&&(e=e.filter(e=>k.favorites.includes(e.id))),k&&!S&&(t=e,e=k&&k.searchHistory&&0!==k.searchHistory.length?[...t].sort((e,t)=>{let s=k.searchHistory.reduce((t,s)=>e.nombre.toLowerCase().includes(s.toLowerCase())?t+1:t,0);return k.searchHistory.reduce((e,s)=>t.nombre.toLowerCase().includes(s.toLowerCase())?e+1:e,0)-s}):t),e);return(0,l.useEffect)(()=>{let e=()=>{window.innerHeight+document.documentElement.scrollTop>=document.documentElement.offsetHeight-200&&!y&&j<T.length&&(v(!0),setTimeout(()=>{N(e=>e+8),v(!1)},800))};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[y,T.length,j]),(0,l.useEffect)(()=>{N(12)},[S]),(0,a.jsxs)("div",{className:"min-h-screen bg-cover bg-center",style:{backgroundImage:"url('/images/galaxia.jpg')"},children:[(0,a.jsxs)("nav",{className:"bg-[#0b1c39] bg-opacity-90 text-white px-4 md:px-6 py-4 flex flex-wrap md:flex-nowrap justify-between items-center relative",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-2 md:mb-0 w-full md:w-auto text-center md:text-left",children:"Andr\xf3meda"}),(0,a.jsxs)("div",{className:"flex flex-wrap justify-center md:justify-end space-x-2 md:space-x-3 w-full md:w-auto",children:[(0,a.jsxs)("div",{className:"relative inline-block mb-2 md:mb-0",children:[(0,a.jsx)("button",{onClick:()=>x(!u),className:"bg-blue-800 hover:bg-blue-900 px-3 md:px-4 py-2 rounded text-sm md:text-base",children:"Comprar en"}),u&&(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-40 bg-white text-black rounded shadow-md z-10",children:[(0,a.jsx)("button",{className:"block w-full text-left px-4 py-2 hover:bg-gray-100",onClick:()=>{m("Natura"),C(!1),x(!1)},children:"Natura"}),(0,a.jsx)("button",{className:"block w-full text-left px-4 py-2 hover:bg-gray-100",onClick:()=>{m("Alibaba"),C(!1),x(!1)},children:"Alibaba"}),k&&(0,a.jsx)("button",{className:"block w-full text-left px-4 py-2 hover:bg-gray-100 text-red-600 font-medium",onClick:()=>{C(!S),m(""),x(!1)},children:S?"Todos los productos":"Favoritos ❤"})]})]}),(o||S)&&(0,a.jsx)("button",{onClick:()=>{m(""),C(!1)},className:"bg-blue-800 hover:bg-blue-900 px-3 md:px-4 py-2 rounded text-sm md:text-base mb-2 md:mb-0",children:"Quitar filtro"}),(0,a.jsxs)("div",{className:"relative inline-block mb-2 md:mb-0",children:[(0,a.jsx)("button",{onClick:()=>g(!p),className:"bg-[#700c2f] hover:bg-[#5b0926] px-3 md:px-4 py-2 rounded text-sm md:text-base",children:"Categor\xedas"}),p&&(0,a.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white text-black rounded shadow-md z-10",children:["Perfumes","Aseo personal","Maquillaje","Tecnologia","Ropa","Para el Hogar","Electrodom\xe9sticos","Deportes y entrenamiento","Ala moda"].map(e=>(0,a.jsx)("button",{className:"block w-full text-left px-4 py-2 hover:bg-gray-100",onClick:()=>{b(e),g(!1)},children:e},e))})]}),h&&(0,a.jsx)("button",{onClick:()=>b(""),className:"bg-blue-800 hover:bg-blue-900 px-3 md:px-4 py-2 rounded text-sm md:text-base mb-2 md:mb-0",children:"Quitar categor\xeda"}),k?(0,a.jsxs)("div",{className:"relative mb-2 md:mb-0",children:[(0,a.jsx)("button",{onClick:()=>H(!A),className:"bg-blue-700 hover:bg-blue-800 rounded-full w-8 h-8 md:w-10 md:h-10 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-bold",children:k.name.charAt(0).toUpperCase()})}),A&&(0,a.jsx)(c,{user:k,onLogout:()=>{localStorage.removeItem("currentUser"),I(null),H(!1),C(!1)},onClose:()=>H(!1)})]}):(0,a.jsx)("button",{onClick:()=>O(!0),className:"bg-blue-700 hover:bg-blue-800 px-3 md:px-4 py-2 rounded text-sm md:text-base mb-2 md:mb-0",children:"Iniciar Sesi\xf3n"})]})]}),(0,a.jsx)("div",{className:"max-w-xl mx-auto px-4 py-4 md:py-6",children:(0,a.jsx)("input",{type:"text",placeholder:"Buscar productos...",value:s,onChange:e=>_(e.target.value),className:"w-full p-3 rounded border border-gray-300 shadow-sm"})}),S&&(0,a.jsx)("div",{className:"text-center mb-4 md:mb-6",children:(0,a.jsx)("h2",{className:"text-xl md:text-2xl font-bold text-white bg-black bg-opacity-40 inline-block px-4 md:px-6 py-1 md:py-2 rounded",children:"Tus Productos Favoritos ❤"})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6 p-4 md:p-6",children:[T.slice(0,j).map(e=>(0,a.jsx)(d,{producto:e,esFavorito:z(e.id),toggleFavorito:F},e.id)),S&&0===T.length&&(0,a.jsx)("div",{className:"col-span-full text-center py-6 md:py-10",children:(0,a.jsxs)("div",{className:"bg-white bg-opacity-80 rounded-lg p-4 md:p-6 inline-block",children:[(0,a.jsx)("p",{className:"text-lg md:text-xl font-bold mb-2",children:"No tienes productos favoritos"}),(0,a.jsx)("p",{children:"A\xf1ade productos a favoritos haciendo clic en el \xedcono del coraz\xf3n"})]})}),y&&(0,a.jsx)("div",{className:"col-span-full flex justify-center mt-4",children:(0,a.jsx)("video",{src:"/images/saturno-loader.mp4",autoPlay:!0,loop:!0,muted:!0,className:"w-16 h-16 md:w-24 md:h-24"})})]}),E&&(0,a.jsx)(n,{onLogin:e=>{I(e),O(!1)},onSwitchToRegister:()=>{O(!1),L(!0)}}),J&&(0,a.jsx)(i,{onRegister:e=>{I(e),L(!1)},onSwitchToLogin:()=>{L(!1),O(!0)}})]})}}},function(e){e.O(0,[967,888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);