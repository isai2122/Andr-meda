(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{4730:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return t(8525)}])},6259:function(e,r,t){"use strict";let n=(0,t(8967).eI)("https://qjouccckjtluhssiysji.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFqb3VjY2NranRsdWhzc2l5c2ppIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY4ODg0MDcsImV4cCI6MjA2MjQ2NDQwN30.dSwRo4jGDxKole8L_O-CSzvAW4CJDjMGpb-61Vs3x-I");r.Z=n},8525:function(e,r,t){"use strict";t.r(r),t.d(r,{__N_SSP:function(){return u},default:function(){return i}});var n=t(5893),a=t(7294),o=t(6259),u=!0;function i(){let[e,r]=(0,a.useState)(""),[t,u]=(0,a.useState)(""),[i,c]=(0,a.useState)(""),[l,s]=a.useState<File|!1,d=async r=>{if(r.preventDefault(),!l)return alert("Selecciona una imagen");let n="".concat(Date.now(),"_").concat(l.name),{data:a,error:u}=await o.Z.storage.from("imagenes-productos").upload(n,l);if(u)return console.error(u),alert("Error subiendo imagen");let{data:c}=o.Z.storage.from("imagenes-productos").getPublicUrl(n),{error:s}=await o.Z.from("productos").insert([{nombre:e,precio:t,codigoAfiliado:i,imagenUrl:c.publicUrl}]);s?(console.error(s),alert("Error guardando producto")):alert("Producto guardado correctamente")};return(0,n.jsxs)("form",{onSubmit:d,className:"flex flex-col gap-4",children:[(0,n.jsx)("input",{value:e,onChange:e=>r(e.target.value),placeholder:"Nombre",required:!0}),(0,n.jsx)("input",{value:t,onChange:e=>u(e.target.value),placeholder:"Precio",required:!0}),(0,n.jsx)("input",{value:i,onChange:e=>c(e.target.value),placeholder:"Enlace afiliado",required:!0}),(0,n.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var r;return s((null===(r=e.target.files)||void 0===r?void 0:r[0])||null)},required:!0}),(0,n.jsx)("button",{type:"submit",children:"Subir producto"})]})}}},function(e){e.O(0,[967,888,774,179],function(){return e(e.s=4730)}),_N_E=e.O()}]);